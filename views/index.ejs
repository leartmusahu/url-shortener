<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>URL Shortener</title>
    <link href="/output.css" rel="stylesheet" />
  </head>
  <body>
    <div class="flex">
      <div class="w-[30%] h-screen bg-gray-200">
        <table class="w-full text-center mt-10">
          <thead>
            <tr>
              <th class="p-4 text-xl font-medium">My shortened URLs</th>
            </tr>
          </thead>
          <tbody>
            <% shortUrls.forEach(shortUrl => { %>
            <tr>
              <td class="p-4 flex items-center justify-center">
                <a
                  href="<%= shortUrl.short %>"
                  class="text-blue-500 text-center flex-grow"
                  ><%= shortUrl.short %></a
                >
                <form
                  action="/shortUrls/<%= shortUrl._id %>/delete"
                  method="POST"
                  class="ml-auto"
                >
                  <button type="submit" class="flex items-center">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="w-4 h-4"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"
                      />
                    </svg>
                  </button>
                </form>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>

      <div class="w-full mx-28 mt-14 flex items-start">
        <div class="w-[70%] flex flex-col items-start">
          <h1 class="text-3xl font-medium">URL Shortener</h1>
          <form
            action="/shortUrls"
            method="POST"
            class="flex flex-col items-start space-y-4 w-full mt-4"
          >
            <div class="flex w-full space-x-4">
              <input
                type="url"
                placeholder="Paste the URL to be shortened"
                required
                name="fullUrl"
                id="fullUrl"
                class="border w-[70%] p-3"
              />
              <select
                name="expiration"
                id="expiration"
                class="border w-[30%] p-3"
              >
                <option value="">Add expiration date</option>
                <option value="1m">1 minute</option>
                <option value="5m">5 minutes</option>
                <option value="30m">30 minutes</option>
                <option value="1h">1 hour</option>
                <option value="5h">5 hours</option>
              </select>
            </div>

            <button type="submit" class="border w-40 mt-6 p-3 bg-gray-200">
              Shorten URL
            </button>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>
